---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Home" description="Run Windows 11 on Ubuntu with 85-95% native performance using QEMU/KVM">
  <!-- Progress Section -->
  <section class="fade-in">
    <h2 class="font-display text-xl font-semibold text-base-content">Project Progress</h2>
    <p class="mt-2 text-sm/6 text-base-content/70">Real-time implementation status</p>

    <div class="mt-6 grid grid-cols-1 gap-4 sm:grid-cols-3">
      <div class="rounded-xl bg-base-200 p-4 ring-1 ring-base-content/5">
        <div class="text-sm text-base-content/70">Overall Progress</div>
        <div class="mt-1 text-2xl font-semibold text-primary">68.6%</div>
        <div class="mt-2 h-2 w-full overflow-hidden rounded-full bg-base-300">
          <div class="h-full bg-primary" style="width: 68.6%"></div>
        </div>
      </div>
      <div class="rounded-xl bg-base-200 p-4 ring-1 ring-base-content/5">
        <div class="text-sm text-base-content/70">Development</div>
        <div class="mt-1 text-2xl font-semibold text-secondary">100%</div>
        <div class="mt-2 text-xs text-base-content/50">Scripts & Agents Complete</div>
      </div>
      <div class="rounded-xl bg-base-200 p-4 ring-1 ring-base-content/5">
        <div class="text-sm text-base-content/70">Deployment</div>
        <div class="mt-1 text-2xl font-semibold text-accent">0%</div>
        <div class="mt-2 text-xs text-base-content/50">QEMU/KVM Not Installed</div>
      </div>
    </div>
  </section>

  <!-- Features Grid -->
  <section class="mt-16 fade-in">
    <h2 class="font-display text-xl font-semibold text-base-content">Key Features</h2>
    <p class="mt-2 text-sm/6 text-base-content/70">Production-grade Windows virtualization</p>

    <div class="mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3">
      <div class="group rounded-xl bg-base-200 p-5 ring-1 ring-base-content/5 transition-all hover:ring-primary/20">
        <span class="badge badge-primary badge-sm">Performance</span>
        <h3 class="mt-3 font-display font-semibold text-base-content">14 Hyper-V Enlightenments</h3>
        <p class="mt-2 text-sm text-base-content/70">Hardware-level Windows optimization for near-native performance.</p>
      </div>

      <div class="group rounded-xl bg-base-200 p-5 ring-1 ring-base-content/5 transition-all hover:ring-secondary/20">
        <span class="badge badge-secondary badge-sm">Storage</span>
        <h3 class="mt-3 font-display font-semibold text-base-content">VirtIO + virtio-fs</h3>
        <p class="mt-2 text-sm text-base-content/70">High-performance disk I/O with secure host filesystem sharing.</p>
      </div>

      <div class="group rounded-xl bg-base-200 p-5 ring-1 ring-base-content/5 transition-all hover:ring-accent/20">
        <span class="badge badge-accent badge-sm">Security</span>
        <h3 class="mt-3 font-display font-semibold text-base-content">60+ Hardening Items</h3>
        <p class="mt-2 text-sm text-base-content/70">LUKS encryption, UFW firewall, read-only mounts for ransomware protection.</p>
      </div>

      <div class="group rounded-xl bg-base-200 p-5 ring-1 ring-base-content/5 transition-all hover:ring-info/20">
        <span class="badge badge-info badge-sm">Benchmark</span>
        <h3 class="mt-3 font-display font-semibold text-base-content">Near-Native Performance</h3>
        <p class="mt-2 text-sm text-base-content/70">85-95% native Windows performance with VirtIO drivers and Hyper-V enlightenments.</p>
      </div>

      <div class="group rounded-xl bg-base-200 p-5 ring-1 ring-base-content/5 transition-all hover:ring-success/20">
        <span class="badge badge-success badge-sm">GPU</span>
        <h3 class="mt-3 font-display font-semibold text-base-content">Intel iGPU Passthrough</h3>
        <p class="mt-2 text-sm text-base-content/70">VFIO-based GPU passthrough for accelerated Windows graphics.</p>
      </div>

      <div class="group rounded-xl bg-base-200 p-5 ring-1 ring-base-content/5 transition-all hover:ring-warning/20">
        <span class="badge badge-warning badge-sm">Easy</span>
        <h3 class="mt-3 font-display font-semibold text-base-content">One-Command Setup</h3>
        <p class="mt-2 text-sm text-base-content/70">TUI menu with gum, automated scripts, and comprehensive logging.</p>
      </div>
    </div>
  </section>

  <!-- Reference Hardware -->
  <section class="mt-16 fade-in">
    <h2 class="font-display text-xl font-semibold text-base-content">Reference Hardware</h2>
    <p class="mt-2 text-sm/6 text-base-content/70">Development baseline - this project was built and tested on this equipment</p>

    <div class="mt-6 overflow-x-auto">
      <table class="w-full text-left text-sm">
        <thead>
          <tr class="border-b border-base-content/10">
            <th class="py-2 pr-4 font-semibold">Component</th>
            <th class="py-2 pr-4 font-semibold">Requirement</th>
            <th class="py-2 font-semibold">Status</th>
          </tr>
        </thead>
        <tbody class="text-base-content/80">
          <tr class="border-b border-base-content/5">
            <td class="py-3 pr-4 font-medium">CPU</td>
            <td class="py-3 pr-4">Intel/AMD with VT-x/AMD-V + IOMMU</td>
            <td class="py-3"><span class="badge badge-success badge-sm gap-1">i7-14700</span></td>
          </tr>
          <tr class="border-b border-base-content/5">
            <td class="py-3 pr-4 font-medium">RAM</td>
            <td class="py-3 pr-4">16GB minimum (32GB+ recommended)</td>
            <td class="py-3"><span class="badge badge-success badge-sm gap-1">64GB DDR5</span></td>
          </tr>
          <tr class="border-b border-base-content/5">
            <td class="py-3 pr-4 font-medium">GPU (Host)</td>
            <td class="py-3 pr-4">NVIDIA for Ubuntu GPU workloads</td>
            <td class="py-3"><span class="badge badge-success badge-sm gap-1">RTX 3060</span></td>
          </tr>
          <tr class="border-b border-base-content/5">
            <td class="py-3 pr-4 font-medium">GPU (Guest)</td>
            <td class="py-3 pr-4">Intel iGPU for Windows VM</td>
            <td class="py-3"><span class="badge badge-success badge-sm gap-1">UHD 770</span></td>
          </tr>
          <tr class="border-b border-base-content/5">
            <td class="py-3 pr-4 font-medium">Storage</td>
            <td class="py-3 pr-4">NVMe SSD (100GB+ free)</td>
            <td class="py-3"><span class="badge badge-success badge-sm gap-1">Available</span></td>
          </tr>
          <tr>
            <td class="py-3 pr-4 font-medium">OS</td>
            <td class="py-3 pr-4">Ubuntu 25.10</td>
            <td class="py-3"><span class="badge badge-success badge-sm gap-1">Kernel 6.17.0-7</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- Quick Start -->
  <section class="mt-16 fade-in">
    <h2 class="font-display text-xl font-semibold text-base-content">Quick Start</h2>
    <p class="mt-2 text-sm/6 text-base-content/70">Get running in minutes</p>

    <div class="mt-6 overflow-x-auto rounded-xl bg-base-300 p-4">
      <pre class="text-sm"><code class="text-base-content/90"><span class="text-base-content/50">$</span> git clone https://github.com/kairin/win-qemu.git
<span class="text-base-content/50">$</span> cd win-qemu
<span class="text-base-content/50">$</span> sudo ./scripts/install-master.sh
<span class="text-success">&gt;</span> QEMU/KVM installation complete!
<span class="text-base-content/50">$</span> ./start.sh  <span class="text-base-content/50"># Launch TUI menu</span></code></pre>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="mt-16 fade-in">
    <div class="rounded-xl bg-base-200 p-8 ring-1 ring-base-content/5 text-center">
      <h2 class="font-display text-2xl font-semibold text-base-content">Ready to Get Started?</h2>
      <p class="mt-2 text-sm/6 text-base-content/70 max-w-xl mx-auto">
        Follow our step-by-step installation guide to set up QEMU/KVM with all optimizations and security hardening.
      </p>
      <div class="mt-6">
        <a href={`${import.meta.env.BASE_URL}installation`} class="btn btn-primary">
          View Installation Guide
          <span aria-hidden="true">&rarr;</span>
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
